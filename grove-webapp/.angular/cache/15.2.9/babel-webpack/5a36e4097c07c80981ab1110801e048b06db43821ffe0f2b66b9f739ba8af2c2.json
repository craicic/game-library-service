{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport { Image } from '../../../model/image.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../game.service\";\nimport * as i2 from \"../../../shared/services/image.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"../../../shared/pipes/string-enum.pipe\";\nfunction GameEditComponent_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\")(1, \"span\", 8);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const category_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(category_r8.title);\n  }\n}\nfunction GameEditComponent_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\")(1, \"span\", 8);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const mechanism_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(mechanism_r9.title);\n  }\n}\nfunction GameEditComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.game.playTime);\n  }\n}\nfunction GameEditComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.limitAge);\n  }\n}\nfunction GameEditComponent_h4_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\");\n    i0.ɵɵtext(1, \"Cr\\u00E9ateurs \");\n    i0.ɵɵelementStart(2, \"span\", 3);\n    i0.ɵɵtext(3, \"\\u00C9diter\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction GameEditComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"enumToString\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const creator_r10 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"\", i0.ɵɵpipeBind1(3, 3, creator_r10.role), \" : \", creator_r10.firstName, \" \", creator_r10.lastName, \"\");\n  }\n}\nfunction GameEditComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r6.game.description);\n  }\n}\nfunction GameEditComponent_ngb_carousel_59_1_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelement(1, \"img\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const image_r12 = i0.ɵɵnextContext().$implicit;\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", image_r12.content, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate2(\"alt\", \"\", ctx_r14.game.title, \" - dataUriArray[\", 2, \"]\");\n  }\n}\nfunction GameEditComponent_ngb_carousel_59_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, GameEditComponent_ngb_carousel_59_1_ng_template_0_Template, 2, 3, \"ng-template\", 10);\n  }\n}\nfunction GameEditComponent_ngb_carousel_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ngb-carousel\", 9);\n    i0.ɵɵtemplate(1, GameEditComponent_ngb_carousel_59_1_Template, 1, 0, null, 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.images);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/admin/locked-mode/games\", a1, \"edit\", \"name\"];\n};\nconst _c1 = function (a1) {\n  return [\"/admin/locked-mode/games\", a1, \"edit\", \"categories\"];\n};\nconst _c2 = function (a1) {\n  return [\"/admin/locked-mode/games\", a1, \"edit\", \"mechanisms\"];\n};\nconst _c3 = function (a1) {\n  return [\"/admin/locked-mode/games\", a1, \"edit\", \"infos\"];\n};\nconst _c4 = function (a1) {\n  return [\"/admin/locked-mode/games\", a1, \"edit\", \"creators\"];\n};\nconst _c5 = function (a1) {\n  return [\"/admin/locked-mode/games\", a1, \"edit\", \"description\"];\n};\nconst _c6 = function (a1) {\n  return [\"/admin/locked-mode/games\", a1, \"edit\", \"size\"];\n};\nconst _c7 = function (a1) {\n  return [\"/admin/locked-mode/games\", a1, \"edit\", \"material\"];\n};\nconst _c8 = function (a1) {\n  return [\"/admin/locked-mode/games\", a1, \"edit\", \"images\"];\n};\nexport let GameEditComponent = /*#__PURE__*/(() => {\n  class GameEditComponent {\n    constructor(service, imageService) {\n      this.service = service;\n      this.imageService = imageService;\n    }\n    ngOnInit() {\n      this.subscription = this.service.detailedGame$.pipe(map(game => {\n        this.game = game;\n      })).subscribe(() => {\n        this.numberOfPlayers = this.service.buildPLayers(this.game.minNumberOfPlayer, this.game.maxNumberOfPlayer);\n        this.limitAge = this.service.buildAge(this.game.minAge, this.game.maxAge, this.game.minMonth);\n      });\n      this.images = [];\n      // this.imageService\n      //   .fetchImage(1)\n      //   .subscribe(data => {\n      //     this.image = new Image();\n      //     this.image.id = data.id;\n      //     this.image.content = 'data:image/png;base64,' + data.content;\n      //     this.images.push(this.image);\n      //   });\n    }\n\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n    loadAllImages(ids) {\n      this.images = [];\n      ids.forEach(id => {\n        this.imageService.fetchImage(id).subscribe(data => {\n          const image = new Image();\n          image.id = data.id;\n          image.content = 'data:image/png;base64,' + data.content;\n          this.images.push(image);\n        });\n      });\n    }\n  }\n  GameEditComponent.ɵfac = function GameEditComponent_Factory(t) {\n    return new (t || GameEditComponent)(i0.ɵɵdirectiveInject(i1.GameService), i0.ɵɵdirectiveInject(i2.ImageService));\n  };\n  GameEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: GameEditComponent,\n    selectors: [[\"app-game-edit\"]],\n    decls: 62,\n    vars: 42,\n    consts: [[1, \"grid-container\"], [1, \"detail-panel\"], [\"routerLinkActive\", \"active\", 1, \"highlightable\", 3, \"routerLink\"], [1, \"info\", \"text-primary\", \"lead\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"class\", \"mb-2\", 4, \"ngIf\"], [1, \"edit-panel\", \"bg-light\"], [1, \"badge-secondary\", \"badge\", \"mr-2\"], [1, \"mb-2\"], [\"ngbSlide\", \"\"], [1, \"text-center\"], [1, \"img-fluid\", \"carousel-img\", \"m-4\", 3, \"src\", \"alt\"]],\n    template: function GameEditComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\");\n        i0.ɵɵtext(4);\n        i0.ɵɵelementStart(5, \"span\", 3);\n        i0.ɵɵtext(6, \"\\u00C9diter\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(7, \"div\", 2)(8, \"h4\");\n        i0.ɵɵtext(9, \"Cat\\u00E9gories \");\n        i0.ɵɵelementStart(10, \"span\", 3);\n        i0.ɵɵtext(11, \"\\u00C9diter\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(12, GameEditComponent_span_12_Template, 3, 1, \"span\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 2)(14, \"h4\");\n        i0.ɵɵtext(15, \"M\\u00E9canismes \");\n        i0.ɵɵelementStart(16, \"span\", 3);\n        i0.ɵɵtext(17, \"\\u00C9diter\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(18, GameEditComponent_span_18_Template, 3, 1, \"span\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 2)(20, \"h4\");\n        i0.ɵɵtext(21, \"Informations \");\n        i0.ɵɵelementStart(22, \"span\", 3);\n        i0.ɵɵtext(23, \"\\u00C9diter\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"div\");\n        i0.ɵɵtext(25);\n        i0.ɵɵpipe(26, \"enumToString\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\");\n        i0.ɵɵtext(28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(29, GameEditComponent_div_29_Template, 2, 1, \"div\", 5);\n        i0.ɵɵtemplate(30, GameEditComponent_div_30_Template, 2, 1, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 2);\n        i0.ɵɵtemplate(32, GameEditComponent_h4_32_Template, 4, 0, \"h4\", 5);\n        i0.ɵɵtemplate(33, GameEditComponent_div_33_Template, 4, 5, \"div\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"div\", 2)(35, \"h4\");\n        i0.ɵɵtext(36, \"Description \");\n        i0.ɵɵelementStart(37, \"span\", 3);\n        i0.ɵɵtext(38, \"\\u00C9diter\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(39, GameEditComponent_div_39_Template, 2, 1, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"div\", 2)(41, \"h4\");\n        i0.ɵɵtext(42, \"Taille / encombrement \");\n        i0.ɵɵelementStart(43, \"span\", 3);\n        i0.ɵɵtext(44, \"\\u00C9diter\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(45, \"div\");\n        i0.ɵɵtext(46);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(47, \"div\", 2)(48, \"h4\");\n        i0.ɵɵtext(49, \"Materiel \");\n        i0.ɵɵelementStart(50, \"span\", 3);\n        i0.ɵɵtext(51, \"\\u00C9diter\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(52, \"div\");\n        i0.ɵɵtext(53);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(54, \"div\", 2)(55, \"h4\");\n        i0.ɵɵtext(56, \"Galerie \");\n        i0.ɵɵelementStart(57, \"span\", 3);\n        i0.ɵɵtext(58, \"\\u00C9diter\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(59, GameEditComponent_ngb_carousel_59_Template, 2, 1, \"ngb-carousel\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(60, \"div\", 7);\n        i0.ɵɵelement(61, \"router-outlet\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(24, _c0, ctx.game.id));\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"\", ctx.game.title, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(26, _c1, ctx.game.id));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.game.categories);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(28, _c2, ctx.game.id));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.game.mechanisms);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(30, _c3, ctx.game.id));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(26, 22, ctx.game.nature), \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.numberOfPlayers);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.game.playTime);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.limitAge.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(32, _c4, ctx.game.id));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.game.creators);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.game.creators);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(34, _c5, ctx.game.id));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.game.description);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(36, _c6, ctx.game.id));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.game.size);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(38, _c7, ctx.game.id));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.game.material);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(40, _c8, ctx.game.id));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.game.imageIds && ctx.game.imageIds.length > 0);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.NgbCarousel, i4.NgbSlide, i5.RouterOutlet, i5.RouterLink, i5.RouterLinkActive, i6.StringEnumPipe],\n    styles: [\".grid-container[_ngcontent-%COMP%]{margin:0;display:grid;height:calc(100vh - 40px);width:100%;grid-template-columns:1fr 1fr}.edit-panel[_ngcontent-%COMP%]{padding:1em;overflow-y:auto}.detail-panel[_ngcontent-%COMP%]{padding:1em;overflow-y:scroll}ngb-carousel[_ngcontent-%COMP%]{background:darkgrey;border-radius:15px;margin:0 auto;width:100%}.carousel-img[_ngcontent-%COMP%]{height:30vh;border-radius:5px}.highlightable[_ngcontent-%COMP%]{padding:1em;margin:.5em}.info[_ngcontent-%COMP%]{display:none}.highlightable[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#d3d3d3;border-radius:15px}.active[_ngcontent-%COMP%]{cursor:pointer;background-color:#d3d3d3;border-radius:15px;border:2px #28a745 solid}.highlightable[_ngcontent-%COMP%]:hover   .info[_ngcontent-%COMP%]{display:inline;float:right}\"]\n  });\n  return GameEditComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}