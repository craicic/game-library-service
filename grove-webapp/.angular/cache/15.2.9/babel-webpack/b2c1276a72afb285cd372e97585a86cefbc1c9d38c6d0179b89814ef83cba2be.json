{"ast":null,"code":"import { environment } from '../../../environments/environment';\nimport { tap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./creator.service\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"../configuration/configuration.service\";\nexport let CreatorDataService = /*#__PURE__*/(() => {\n  class CreatorDataService {\n    constructor(creatorsService, http, configurationService) {\n      this.creatorsService = creatorsService;\n      this.http = http;\n      this.configurationService = configurationService;\n      this.apiUri = environment.apiUri;\n    }\n    fetchNames() {\n      return this.http.get(this.apiUri + '/admin/creators/names', {\n        responseType: 'json'\n      }).pipe(tap(names => {\n        this.creatorsService.setNames(names);\n      }));\n    }\n    fetchCreators(page, keyword) {\n      if (!page) {\n        page = 0;\n      }\n      let keywordParam = '';\n      if (keyword) {\n        keywordParam = '&search=' + keyword.toLowerCase();\n      }\n      const size = this.configurationService.getNumberOfElements();\n      const params = '?page=' + page + '&size=' + size + '&sort=id' + keywordParam;\n      return this.http.get(this.apiUri + '/admin/creators/page' + params, {\n        responseType: 'json'\n      }).pipe(tap(pagedCreators => {\n        this.creatorsService.setPagedCreators(pagedCreators);\n      }));\n    }\n    removeCreator(id) {\n      return this.http.delete(this.apiUri + '/admin/creators/' + id);\n    }\n    removeContact(creatorId, contactId) {\n      return this.http.delete(this.apiUri + '/admin/allCreatorsName/' + creatorId + '/contact/' + contactId);\n    }\n    editCreator(id, editedCreator) {\n      this.http.put(this.apiUri + '/admin/creators/' + id, editedCreator, {\n        responseType: 'json'\n      }).subscribe(creator => this.creatorsService.updateCreators(creator));\n    }\n    addCreator(newCreator, hasContact) {\n      let contactParam = '';\n      if (hasContact) {\n        contactParam = '?has-contact=true';\n      }\n      this.http.post(this.apiUri + '/admin/creators' + contactParam, newCreator, {\n        responseType: 'json'\n      }).subscribe(creator => this.creatorsService.updateCreators(creator));\n    }\n  }\n  CreatorDataService.ɵfac = function CreatorDataService_Factory(t) {\n    return new (t || CreatorDataService)(i0.ɵɵinject(i1.CreatorService), i0.ɵɵinject(i2.HttpClient), i0.ɵɵinject(i3.ConfigurationService));\n  };\n  CreatorDataService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: CreatorDataService,\n    factory: CreatorDataService.ɵfac,\n    providedIn: 'root'\n  });\n  return CreatorDataService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}